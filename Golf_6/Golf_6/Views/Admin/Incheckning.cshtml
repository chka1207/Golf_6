@model Golf_6.Models.Admin.Incheckning
@using Golf_6.Controllers;
@using Golf_6.Models;
@using System.Collections.Generic;
@{
    ViewBag.Title = "Incheckning";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

@using (Html.BeginForm())
{
    <h2>Incheckning</h2>

    <div class="form-horizontal">
        <hr />
        @Html.ValidationSummary(true)

        @{
            List<string> l = new List<string>();
            string a, b, c, d = "";
            l = ViewBag.Spelare;
            DateTime datum = ViewBag.Datum;
            DateTime tid = ViewBag.Tid;
            int bokningsID = ViewBag.BokningID;
            Tidsbokning t = new Tidsbokning();

            if (l != null)
            {
                for (int i = 0; i <= l.Count; i++)
                {
                    if (l.Count == 1 || l.Count > 1)
                    {
                        a = l[0];
                        t.Spelare1ID = a;
                    }
                    if (l.Count == 2 || l.Count > 2)
                    {
                        b = l[1];
                        t.Spelare2ID = b;
                    }
                    if (l.Count == 3 || l.Count > 3)
                    {
                        c = l[2];
                        t.Spelare3ID = c;
                    }
                    if (l.Count == 4 || l.Count > 4)
                    {
                        d = l[3];
                        t.Spelare4ID = d;
                    }
                }
            }

            @Html.Hidden("bokningID", bokningsID);
            @Html.Hidden("nySpelare1", t.Spelare1ID);
            @Html.Hidden("nySpelare2", t.Spelare2ID);
            @Html.Hidden("nySpelare3", t.Spelare3ID);
            @Html.Hidden("nySpelare4", t.Spelare4ID);
        }

        <div class="form-group">
            <style>
                #tbdatum{

                }
            </style>
            <div class="col-md-10">
                <label>Välj spelare att checka in</label>
                @Html.ListBoxFor(m => m.GolfID, Model.GetSpelare(datum, tid, ref bokningsID, ref l))
            </div>
        </div>

    </div>
           }
